# Reputation Horizon - Backend (FastAPI)

Python FastAPI backend –¥–ª—è –∑–±–æ—Ä—É —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–≥—É–∫—ñ–≤ –ø—Ä–æ –¥–æ–¥–∞—Ç–æ–∫ Preply –∑ Google Play Store —Ç–∞ Apple App Store.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

üöÄ **FastAPI** - —Å—É—á–∞—Å–Ω–∏–π, —à–≤–∏–¥–∫–∏–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
üì± **Google Play Scraper** - –∑–±—ñ—Ä –≤—ñ–¥–≥—É–∫—ñ–≤ –∑ Google Play
üçé **App Store Scraper** - –∑–±—ñ—Ä –≤—ñ–¥–≥—É–∫—ñ–≤ –∑ App Store
‚è∞ **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —á–∞—Å–æ–º** - –≤—ñ–¥–≥—É–∫–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ N –≥–æ–¥–∏–Ω
üåç **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫—Ä–∞—ó–Ω** - –≤–∏–±—ñ—Ä –∫—Ä–∞—ó–Ω–∏ –¥–ª—è –ø–æ—à—É–∫—É
üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –º–µ—Ç—Ä–∏–∫

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

```bash
cd apps/backend
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

### 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
pip install -r requirements.txt
```

### 3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```bash
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env –∑–∞ –ø–æ—Ç—Ä–µ–±–∏
```

## –ó–∞–ø—É—Å–∫

### Development —Ä–µ–∂–∏–º (–∑ auto-reload)

```bash
python main.py
```

–∞–±–æ

```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### Production —Ä–µ–∂–∏–º

```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4
```

API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ –∑–∞ –∞–¥—Ä–µ—Å–æ—é: **http://localhost:8000**

## API Endpoints

### üìã –û—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

#### `GET /api/reviews`
–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–≥—É–∫–∏ –∑ –æ–±–æ—Ö –º–∞–≥–∞–∑–∏–Ω—ñ–≤ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ N –≥–æ–¥–∏–Ω

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `hours` (int, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 24) - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–¥–∏–Ω –Ω–∞–∑–∞–¥
- `country` (str, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: "us") - –∫–æ–¥ –∫—Ä–∞—ó–Ω–∏
- `limit` (int, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 100) - –º–∞–∫—Å. –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–≥—É–∫—ñ–≤

**–ü—Ä–∏–∫–ª–∞–¥:**
```bash
curl "http://localhost:8000/api/reviews?hours=24&country=us&limit=50"
```

#### `GET /api/reviews/google`
–¢—ñ–ª—å–∫–∏ Google Play –≤—ñ–¥–≥—É–∫–∏

#### `GET /api/reviews/apple`
–¢—ñ–ª—å–∫–∏ App Store –≤—ñ–¥–≥—É–∫–∏

### üìä –§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

```json
{
  "reviews": [
    {
      "id": "review_id",
      "userName": "John Doe",
      "rating": 5,
      "text": "Great app!",
      "date": "2025-10-04T10:30:00",
      "source": "google",
      "version": "7.45.0",
      "thumbsUp": 12
    }
  ],
  "stats": {
    "totalReviews": 50,
    "avgRating": 4.5,
    "googlePlayReviews": 30,
    "appStoreReviews": 20,
    "positiveReviews": 40,
    "negativeReviews": 5
  }
}
```

## –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –∫—Ä–∞—ó–Ω–∏

- üá∫üá∏ `us` - –°–®–ê
- üá∫üá¶ `ua` - –£–∫—Ä–∞—ó–Ω–∞
- üá¨üáß `gb` - –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω—ñ—è
- üáµüá± `pl` - –ü–æ–ª—å—â–∞
- üá©üá™ `de` - –ù—ñ–º–µ—á—á–∏–Ω–∞
- üá´üá∑ `fr` - –§—Ä–∞–Ω—Ü—ñ—è
- üá™üá∏ `es` - –Ü—Å–ø–∞–Ω—ñ—è
- üáÆüáπ `it` - –Ü—Ç–∞–ª—ñ—è
- ... —Ç–∞ —ñ–Ω—à—ñ ISO 3166-1 alpha-2 –∫–æ–¥–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
apps/backend/
‚îú‚îÄ‚îÄ main.py                      # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª FastAPI
‚îú‚îÄ‚îÄ requirements.txt             # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env.example                 # –ü—Ä–∏–∫–ª–∞–¥ env –∑–º—ñ–Ω–Ω–∏—Ö
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ google_play_service.py   # –°–µ—Ä–≤—ñ—Å Google Play
‚îÇ   ‚îú‚îÄ‚îÄ app_store_service.py     # –°–µ—Ä–≤—ñ—Å App Store
‚îÇ   ‚îî‚îÄ‚îÄ review_aggregator.py     # –ê–≥—Ä–µ–≥–∞—Ü—ñ—è –≤—ñ–¥–≥—É–∫—ñ–≤
‚îî‚îÄ‚îÄ README.md
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Python

```python
import httpx

async with httpx.AsyncClient() as client:
    response = await client.get(
        "http://localhost:8000/api/reviews",
        params={"hours": 24, "country": "ua", "limit": 50}
    )
    data = response.json()
    print(f"Total reviews: {data['stats']['totalReviews']}")
```

### JavaScript (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É)

```javascript
const response = await fetch('http://localhost:8000/api/reviews?hours=24&country=us');
const data = await response.json();
console.log(data.stats);
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—ñ–¥–≥—É–∫–∏

**–†—ñ—à–µ–Ω–Ω—è:**
- –ó–±—ñ–ª—å—à—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `hours` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ 168 –¥–ª—è —Ç–∏–∂–Ω—è)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –∫–æ–¥—É –∫—Ä–∞—ó–Ω–∏
- –°–ø—Ä–æ–±—É–π—Ç–µ —ñ–Ω—à–∏–π `limit` (100-200)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—ñ–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å

**–†—ñ—à–µ–Ω–Ω—è:**
- –ó–º–µ–Ω—à—Ç–µ `limit`
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ Redis)
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ production —Ä–µ–∂–∏–º—ñ –∑ workers

## –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

- [ ] –ö–µ—à—É–≤–∞–Ω–Ω—è –≤—ñ–¥–≥—É–∫—ñ–≤ (Redis)
- [ ] –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ —Ñ–æ–Ω—ñ (Celery)
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó
- [ ] –°–µ–Ω—Ç–∏–º–µ–Ω—Ç-–∞–Ω–∞–ª—ñ–∑ –≤—ñ–¥–≥—É–∫—ñ–≤
- [ ] Webhooks –¥–ª—è –Ω–æ–≤–∏—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
- [ ] Rate limiting
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è API

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

